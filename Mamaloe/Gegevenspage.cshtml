@using WebMatrix.Data
@{
    Layout = "~/Shared/_Header.cshtml";
    Page.Title = "Gegevens";

    var resultMessage = "";

    var voornaam = "";
    var tussenvoegsel = "";
    var achternaam = "";
    var email = "";
    var telefoonnummer = "";
    var straat = "";
    var huisnummer = "";
    var postcode = "";
    var woonplaats = "";
    var land = "";
    var incheck_datum = "";
    var uitcheck_datum = "";
    var aantal_personen = "";
    var huisdier = "";

    if (Session["voornaam"] != null)
    {
        voornaam = (string)Session["voornaam"];
    }
    if (Session["tussenvoegsel"] != null)
    {
        tussenvoegsel = (string)Session["tussenvoegsel"];
    }
    if (Session["achternaam"] != null)
    {
        achternaam = (string)Session["achternaam"];
    }
    if (Session["email"] != null)
    {
        email = (string)Session["email"];
    }
    if (Session["telefoonnummer"] != null)
    {
        telefoonnummer = (string)Session["telefoonnummer"];
    }
    if (Session["straat"] != null)
    {
        straat = (string)Session["straat"];
    }
    if (Session["huisnummer"] != null)
    {
        huisnummer = (string)Session["huisnummer"];
    }
    if (Session["postcode"] != null)
    {
        postcode = (string)Session["postcode"];
    }
    if (Session["woonplaats"] != null)
    {
        woonplaats = (string)Session["woonplaats"];
    }
    if (Session["land"] != null)
    {
        land = (string)Session["land"];
    }
    if (Session["incheck_datum"] != null)
    {
        incheck_datum = (string)Session["incheck_datum"];
    }
    if (Session["uitcheck_datum"] != null)
    {
        uitcheck_datum = (string)Session["uitcheck_datum"];
    }
    if (Session["aantal_personen"] != null)
    {
        aantal_personen = (string)Session["aantal_personen"];
    }
    if (Session["huisier"] != null)
    {
        huisdier = (string)Session["huisdier"];
    }

    if (IsPost && Validation.IsValid())
    {
        voornaam = Request.Form["voornaam"];
        tussenvoegsel = Request.Form["tussenvoegsel"];
        achternaam = Request.Form["achternaam"];
        email = Request.Form["email"];
        telefoonnummer = Request.Form["telefoonnummer"];
        straat = Request.Form["straat"];
        huisnummer = Request.Form["huisnummer"];
        postcode = Request.Form["postcode"];
        woonplaats = Request.Form["woonplaats"];
        land = Request.Form["land"];
        incheck_datum = Request.Form["incheck_datum"];
        uitcheck_datum = Request.Form["uitcheck_datum"];
        aantal_personen = Request.Form["aantal_personen"];
        huisdier = Request.Form["huisdier"];

        if (IsPost && Validation.IsValid())
        {
            if (DBManager.SetReservation(Request.Form["voornaam"], Request.Form["tussenvoegsel"], Request.Form["achternaam"], Request.Form["email"], Request.Form["telefoonnummer"], Request.Form["straat"], Request.Form["huisnummer"], Request.Form["woonplaats"], Request.Form["postcode"], Request.Form["land"], Request.Form["opmerking"], Request.Form["incheck_datum"], Request.Form["uitcheck_datum"], Request.Form["aantal_personen"].AsInt(), Request.Form["huisdier"].AsBool()))
            {
                Response.Redirect("~/ReservationComplete.cshtml");
            }
            else
            {
                resultMessage = "Er is een fout opgetreden.";
            }

        }
    }
}
<!DOCTYPE html>
<html>

<head>
    
</head>

<body class="bg-light">
  
    <div class="py-5">
        <div class="container" align="center">
            <div class="row">
                <div class="text-center col-md-12">
                    <h1>Uw Reservering</h1>
                </div>
            </div>
            <div class="col-lg-4 col-md-6 p-3"></div>
            <div class="col-lg-6 p-3">
                <div class="card bg-light">
                    <div class="card-body p-4">
                        <div class="row">
                            <div class="col-8 col-md-12">
                                @resultMessage
                                <h3 class="">Uw gegevens</h3>
                                <h6>Persoonlijke gegevens</h6>
                                <div class="row">
                                    <div class="col-md-6"></div>
                                    <div class="col-md-6">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <ul class="list-group pl-3">
                            <li class="list-group-item"><b>Naam: &nbsp;</b>@Session["voornaam"]</li>
                           
                            <li class="list-group-item"><b>Tussenvoegsel: &nbsp;</b>@Session["tussenvoegsel"]</li>
                           
                            <li class="list-group-item"><b>Achternaam: &nbsp;</b>@Session["achternaam"]</li>
                            
                            <li class="list-group-item"><b>Email:&nbsp;</b>@Session["email"]</li>
                            
                            <li class="list-group-item"><b>Straat:&nbsp;</b>@Session["straat"]</li>
                            
                            <li class="list-group-item"><b>Huisnummer:&nbsp;</b>@Session["huisnummer"]</li>
                            
                            <li class="list-group-item"><b>Woonplaats:&nbsp;</b>@Session["woonplaats"]</li>
                            
                            <li class="list-group-item"><b>Postcode:&nbsp;</b>@Session["postcode"]</li>
                            
                            <li class="list-group-item"><b>Telefoonnummer:&nbsp;</b>@Session["telefoonnummer"]</li>
                            
                            <li class="list-group-item"><b>Land:&nbsp;</b>@Session["land"]</li>
                            <br>
                            <h5>Reservering</h5>
                            <li class="list-group-item"><b>Incheckdatum: &nbsp;</b>@Session["incheck_datum"]</li>
                            
                            <li class="list-group-item"><b>uitcheckdatum: &nbsp;</b>@Session["uitcheck_datum"]</li>
                            
                            <li class="list-group-item"><b>Aantal personen: &nbsp;</b>@Session["aantal_personen"]</li>
                            
                            <li class="list-group-item"><b>Huisdieren:&nbsp;</b>@Session["huisdier"]</li>
                            
                            <li class="list-group-item"><b>Totaal prijs:&nbsp;</b>@Session["prijs"]</li>
                            
                        </ul> <a class="btn mt-3 btn-warning w-100" href="ReservationComplete.cshtml">Bevestig</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

   

</body>
</html>